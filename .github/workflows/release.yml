name: Release

on:
  push:
    tags:
      - 'v*'

jobs:
  release:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Set up Go
      uses: actions/setup-go@v4
      with:
        go-version: 1.24.x
    
    - name: Run tests
      run: go test -v ./...
    
    - name: Build
      run: go build -v ./...
    
    - name: Create Release
      id: create_release
      uses: actions/create-release@v1
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        tag_name: ${{ github.ref }}
        release_name: Release ${{ github.ref }}
        body: |
          ## ğŸ¯ Vibe Coding Logger ${{ github.ref }}
          
          ãƒã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å°‚ç”¨Goãƒ­ã‚®ãƒ³ã‚°ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒªãƒªãƒ¼ã‚¹ã§ã™ã€‚
          
          ### âœ¨ ä¸»è¦æ©Ÿèƒ½
          - ğŸ§  ãƒã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å°‚ç”¨ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
          - ğŸ–¥ï¸ ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±è‡ªå‹•åé›†
          - ğŸ“Š æ“ä½œè¿½è·¡æ©Ÿèƒ½
          - ğŸ”„ é«˜åº¦ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
          - ğŸ“‹ æ§‹é€ åŒ–ãƒ­ã‚°å‡ºåŠ›
          - âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
          
          ### ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
          ```bash
          go get github.com/ktanaha/vibe-coding-logger
          ```
          
          ### ğŸ“– è©³ç´°æƒ…å ±
          - [README](https://github.com/ktanaha/vibe-coding-logger/blob/main/README.md)
          - [CHANGELOG](https://github.com/ktanaha/vibe-coding-logger/blob/main/CHANGELOG.md)
          - [ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³](https://github.com/ktanaha/vibe-coding-logger/blob/main/CONTRIBUTING.md)
        draft: false
        prerelease: false